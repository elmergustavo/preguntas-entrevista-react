{
  "id": "para-que-sirve-el-hook-use-action-state",
  "level": 1,
  "title": "¿Para qué sirve el hook `useActionState`?",
  "content": "<p><code>useActionState</code> simplifica el ciclo de vida de formularios que usan Server Actions. Devuelve <code>[state, action, isPending]</code>: <code>state</code> guarda la respuesta m\u00e1s reciente del servidor, <code>action</code> se pasa al <code>&lt;form action={...}&gt;</code> y <code>isPending</code> indica si la petici\u00f3n est\u00e1 en curso.</p>\n<pre><code class=\"language-jsx\">'use client'\n\nimport { useActionState } from 'react'\n\nasync function createTodo(prevState, formData) {\n  'use server'\n  const title = formData.get('title')\n  if (!title) return { error: 'El t\u00edtulo es obligatorio' }\n  // guardar en DB ...\n  return { ok: true, title }\n}\n\nexport default function TodoForm() {\n  const [state, formAction, isPending] = useActionState(createTodo, null)\n\n  return (\n    <form action={formAction}>\n      <input name=\"title\" placeholder=\"Nueva tarea\" />\n      <button type=\"submit\" disabled={isPending}>\n        {isPending ? 'Guardando...' : 'Crear'}\n      </button>\n      {state?.error && <p>{state.error}</p>}\n      {state?.ok && <p>Tarea creada: {state.title}</p>}\n    </form>\n  )\n}\n</code></pre>\n<p>\u00dasalo cuando un formulario dispara una Server Action y quieres manejar estado de carga, error y \u00faltima respuesta sin escribir manejadores de evento manuales.</p>\n<hr>\n"
}
