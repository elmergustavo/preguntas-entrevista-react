{
  "id": "que-es-el-hook-use-form-state-y-cuando-conviene-usarlo",
  "level": 1,
  "title": "¿Qué es el hook `useFormState` y cuándo conviene usarlo?",
  "content": "<p><code>useFormState</code> (de <code>react-dom</code>) es un helper para formularios que disparan Server Actions. Devuelve <code>[state, formAction]</code>; <code>state</code> es el resultado acumulado de la acción y <code>formAction</code> se asigna al <code>&lt;form action={...}&gt;</code>. Para estados de carga usa <code>useFormStatus</code>.</p>\n<pre><code class=\"language-jsx\">'use client'\nimport { useFormState } from 'react-dom'\nimport { createContact } from './actions' // server action\n\nconst initialState = { ok: false, message: '' }\n\nexport default function ContactForm() {\n  const [state, formAction] = useFormState(createContact, initialState)\n\n  return (\n    <form action={formAction}>\n      <input name=\"email\" placeholder=\"Tu email\" />\n      <textarea name=\"message\" />\n      <SubmitButton />\n      {state.ok && <p>Enviado</p>}\n      {state.error && <p>{state.error}</p>}\n    </form>\n  )\n}\n\nfunction SubmitButton() {\n  const { pending } = useFormStatus()\n  return <button type=\"submit\" disabled={pending}>{pending ? 'Enviando...' : 'Enviar'}</button>\n}\n</code></pre>\n<p>Úsalo cuando quieras manejar el estado de un formulario ligado a una Server Action sin escribir controladores de submit en el cliente: ideal para forms simples (contacto, alta, toggle) donde el servidor decide la respuesta.</p>\n<hr>\n"
}
